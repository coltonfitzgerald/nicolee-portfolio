!function(){function t(){}function e(t){return a.retinaImageSuffix+t}function n(t,n){if(this.path=t||"","undefined"!=typeof n&&null!==n)this.at_2x_path=n,this.perform_check=!1;else{if(void 0!==document.createElement){var i=document.createElement("a");i.href=this.path,i.pathname=i.pathname.replace(r,e),this.at_2x_path=i.href}else{var o=this.path.split("?");o[0]=o[0].replace(r,e),this.at_2x_path=o.join("?")}this.perform_check=!0}}function i(t){this.el=t,this.path=new n(this.el.getAttribute("src"),this.el.getAttribute("data-at2x"));var e=this;this.path.check_2x_variant(function(t){t&&e.swap()})}var o="undefined"==typeof exports?window:exports,a={retinaImageSuffix:"@2x",check_mime_type:!0,force_original_dimensions:!0};o.Retina=t,t.configure=function(t){null===t&&(t={});for(var e in t)t.hasOwnProperty(e)&&(a[e]=t[e])},t.init=function(t){null===t&&(t=o);var e=t.onload||function(){};t.onload=function(){var t,n,o=document.getElementsByTagName("img"),a=[];for(t=0;t<o.length;t+=1)n=o[t],n.getAttributeNode("data-no-retina")||a.push(new i(n));e()}},t.isRetina=function(){var t="(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)";return o.devicePixelRatio>1?!0:o.matchMedia&&o.matchMedia(t).matches?!0:!1};var r=/\.\w+$/;o.RetinaImagePath=n,n.confirmed_paths=[],n.prototype.is_external=function(){return!(!this.path.match(/^https?\:/i)||this.path.match("//"+document.domain))},n.prototype.check_2x_variant=function(t){var e,i=this;return this.is_external()?t(!1):this.perform_check||"undefined"==typeof this.at_2x_path||null===this.at_2x_path?this.at_2x_path in n.confirmed_paths?t(!0):(e=new XMLHttpRequest,e.open("HEAD",this.at_2x_path),e.onreadystatechange=function(){if(4!==e.readyState)return t(!1);if(e.status>=200&&e.status<=399){if(a.check_mime_type){var o=e.getResponseHeader("Content-Type");if(null===o||!o.match(/^image/i))return t(!1)}return n.confirmed_paths.push(i.at_2x_path),t(!0)}return t(!1)},void e.send()):t(!0)},o.RetinaImage=i,i.prototype.swap=function(t){function e(){n.el.complete?(a.force_original_dimensions&&(n.el.setAttribute("width",n.el.offsetWidth),n.el.setAttribute("height",n.el.offsetHeight)),n.el.setAttribute("src",t)):setTimeout(e,5)}"undefined"==typeof t&&(t=this.path.at_2x_path);var n=this;e()},t.isRetina()&&t.init(o)}(),jQuery(document).ready(function($){function t(t){var i=n();$(".cd-gallery").offset().top>$(window).scrollTop()&&"mobile"!=i?$("body,html").animate({scrollTop:$(".cd-gallery").offset().top},100,function(){e(t,!0)}):e(t,!0)}function e(t,e){if(e){var i=$(".cd-fold-content");i.load(t+" .cd-fold-content > *",function(t){setTimeout(function(){$("body").addClass("overflow-hidden"),$(".cd-folding-panel").addClass("is-open"),$(".cd-main").addClass("fold-is-open")},100)})}else{var o=n();$(".cd-folding-panel").removeClass("is-open"),$(".cd-main").removeClass("fold-is-open"),"mobile"==o||$(".no-csstransitions").length>0?$("body").removeClass("overflow-hidden"):$(".cd-main").find(".cd-item").eq(0).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){$("body").removeClass("overflow-hidden"),$(".cd-main").find(".cd-item").eq(0).off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend")})}}function n(){return window.getComputedStyle(document.querySelector(".cd-main"),"::before").getPropertyValue("content")}$(".cd-gallery a").on("click",function(e){e.preventDefault(),t($(this).attr("href"))}),$(".cd-folding-panel .cd-close").on("click",function(t){t.preventDefault(),e("",!1)}),$(".cd-gallery").on("click",function(t){$(t.target).is(".cd-gallery")&&$(".fold-is-open").length>0&&e("",!1)})});